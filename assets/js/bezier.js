stats=function(n){for(var e,r={mean:0,variance:0,deviation:0},t=n.length,u=0,i=t;i--;u+=n[i]);for(e=r.mean=u/t,i=t,u=0;i--;u+=Math.pow(n[i]-e,2));return r.deviation=Math.sqrt(r.variance=u/t),r};var generate141Matrix=function(n){result=[];for(var e=0;e<n;e++){for(var r=[],t=0;t<n;t++)t==e?r.push(4):1==Math.abs(e-t)?r.push(1):r.push(0);result.push(r)}return result},generateConstantMatrix=function(n){for(result=[],result.push(numeric.sub(numeric.mul(n[1],6),n[0])),i=2;i<n.length-2;i++)result.push(numeric.mul(n[i],6));return result.push(numeric.sub(numeric.mul(n[n.length-2],6),n[n.length-1])),result},convertBSplineControlPointsToBezierControlPoints=function(n){for(var e=[],r=0;r<n.length-1;r++){var t,u=[0==r?n[0]:t,numeric.add(numeric.mul(2/3,n[r]),numeric.mul(1/3,n[r+1])),numeric.add(numeric.mul(1/3,n[r]),numeric.mul(2/3,n[r+1])),t=r==n.length-2?n[n.length-1]:numeric.add(numeric.mul(1/6,n[r]),numeric.mul(2/3,n[r+1]),numeric.mul(1/6,n[r+2]))];e.push(u)}return e},getBezierControlPoints=function(n){if(n.length<4){if(3===n.length)return[u=[n[0],n[1],n[1],n[2]]];if(2===n.length)return[u=[n[0],n[0],n[1],n[1]]];if(1===n.length)return[u=[n[0],n[0],n[0],n[0]]]}var e=generate141Matrix(n.length-2),r=generateConstantMatrix(n),t=numeric.dot(numeric.inv(e),r);t.splice(0,0,n[0]),t.push(n[n.length-1]);var u=convertBSplineControlPointsToBezierControlPoints(t);return u};